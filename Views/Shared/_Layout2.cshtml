@inject Clinc_Care_MVC_Grad_PROJ.Models.UnitOfWork.IUnitOfWork UnitOfWork;

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rosheta - Dashboard</title>
    <link rel="icon" type="image/png" href="/imgs/Logo/Rosheta-logo-ico.png">
    <style type="text/css">
        font-face {
            font-family: Roboto;
            src: url("chrome-extension://mcgbeeipkmelnpldkobichboakdfaeon/css/Roboto-Regular.ttf");
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link href="https://demo.getdoctorino.com/dashboard/css/gijgo.min.css" rel="stylesheet" media="all">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" type="text/css" href="https://printjs-4de6.kxcdn.com/print.min.css">
    <link href="~/css/DbMain.css" rel="stylesheet">

    <link href="~/lib/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="~/lib/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet" />
</head>


<body id="page-top">
    <div id="app">
        <div id="wrapper">
            <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
                <li>
                    <a class="sidebar-brand d-flex align-items-center justify-content-center" asp-action="Index" asp-controller="Home" asp-area="">
                        <div class="sidebar-brand-icon rotate-n-15 d-none d-lg-block d-xl-none">
                            <i class="fas fa-user-md"></i>
                        </div>
                        <div class="sidebar-brand-text mx-3">
                            <img src="/imgs//Logo/Flex-Logo-Light.png" class="" id="SideBarImg">
                        </div>
                    </a>

                    <hr class="sidebar-divider my-0">

                </li>
                <li class="nav-item active">
                    <a class="nav-link" asp-action="DbIndex" asp-controller="Home" asp-area="">
                        <i class="fas fa-fw fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                </li>


                @if (User.IsInRole("Receptionist") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseAppointment" aria-expanded="true" aria-controls="collapseAppointment">
                            <i class="far fa-fw fa-calendar-plus"></i>
                            <span>Appointments</span>
                        </a>
                        <div id="collapseAppointment" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">

                                <a class="collapse-item" asp-action="Create" asp-controller="Appointment" asp-area="Client"><i class="fa-solid fa-plus"></i>New Appointment</a>
                                <a class="collapse-item" asp-action="TodayAppointment" asp-controller="HomeDashboard" asp-area="Managment"><i class="fa-solid fa-calendar-day"></i> Today's Appointments</a>
                                <a class="collapse-item" asp-action="AllAppointment" asp-controller="HomeDashboard" asp-area="Managment"><i class="fa-solid fa-list"></i> All Appointments</a>
                            </div>
                        </div>
                    </li>
                }


                @if (User.IsInRole("Receptionist") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePatient" aria-expanded="true" aria-controls="collapseTwo">
                            <i class="fas fa-fw fa-user-injured"></i>
                            <span>Patients</span>
                        </a>
                        <div id="collapsePatient" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">

                                <a class="collapse-item" asp-action="Create" asp-controller="Patient" asp-area="Client"><i class="fa-solid fa-user-plus"></i> New Patient</a>

                                <a class="collapse-item" asp-action="Index" asp-controller="Patient" asp-area="Client"><i class="fa-solid fa-address-book"></i> All Patients</a>
                            </div>
                        </div>
                    </li>
                }



                @if (User.IsInRole("Receptionist") || User.IsInRole("Admin"))
                {

                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                            <i class="fas fa-fw fa-prescription"></i>
                            <span>Orders</span>
                        </a>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="index" asp-controller="RadiologyOrder" asp-area="Managment">Radiology Orders</a>
                                <a class="collapse-item" asp-action="index" asp-controller="LaboratoryOrder" asp-area="Managment">Lab Orders</a>
                            </div>
                        </div>
                    </li>
                }


                @if (User.IsInRole("Doctor") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages" aria-expanded="true" aria-controls="collapsePages">
                            <i class="fas fa-fw fa-pills"></i>
                            <span>Drugs</span>
                        </a>
                        <div id="collapsePages" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="Index" asp-controller="Medicine" asp-area="Managment">All Drugs</a>
                                <a class="collapse-item" asp-action="Create" asp-controller="Medicine" asp-area="Managment">Add New</a>
                            </div>
                        </div>
                    </li>
                }
                
                @if (User.IsInRole("Receptionist") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" data-toggle="collapse" data-target="#collapseLaptests" aria-expanded="true" aria-controls="collapsePages">
                            <i class="fa-solid fa-flask"></i>
                            <span>Lab Tests</span>
                        </a>
                        <div id="collapseLaptests" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="Index" asp-controller="LaboratoryType" asp-area="Managment">All Lab Tests</a>
                                <a class="collapse-item" asp-action="Create" asp-controller="LaboratoryType" asp-area="Managment">Add New Lab Test</a>
                            </div>
                        </div>
                    </li>
                }  
                @if (User.IsInRole("Receptionist") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" data-toggle="collapse" data-target="#collapseRadiology" aria-expanded="true" aria-controls="collapsePages">
                            <i class="fa-solid fa-radiation"></i>
                            <span>Radiology Tests</span>
                        </a>
                        <div id="collapseRadiology" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="Index" asp-controller="RadiologyType" asp-area="Managment">All Radiology Tests</a>
                                <a class="collapse-item" asp-action="Create" asp-controller="RadiologyType" asp-area="Managment">Add New Radiology Test</a>
                            </div>
                        </div>
                    </li>
                }

                @if (User.IsInRole("Nurse") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTests" aria-expanded="true" aria-controls="collapseTests">
                            <i class="fas fa-fw fa-heartbeat"></i>
                            <span>Diagnostic Tests</span>
                        </a>
                        <div id="collapseTests" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="index" asp-controller="PatientVital" asp-area="Managment">Diagnosis Tests Queue</a>
                            </div>
                        </div>
                    </li>
                }

                @if (User.IsInRole("Examination") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed"  data-toggle="collapse" data-target="#collapseReq" aria-expanded="true" aria-controls="collapseTests">
                            <i class="fa-solid fa-hospital-user"></i>
                            <span>Lap Requests</span>
                        </a>
                        <div id="collapseReq" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="index" asp-controller="LabRequest" asp-area="Managment">Requests</a>
                            </div>
                        </div>
                    </li>
                } 

                @if (User.IsInRole("Examination") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed"  data-toggle="collapse" data-target="#collapseRadReq" aria-expanded="true" aria-controls="collapseTests">
                            <i class="fa-solid fa-rado"></i>
                            <span>Radio Requests</span>
                        </a>
                        <div id="collapseRadReq" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="index" asp-controller="RadRequest" asp-area="Managment">Requests</a>
                            </div>
                        </div>
                    </li>
                }

                @if (User.IsInRole("Receptionist") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" data-toggle="collapse" data-target="#collapseSchedule" aria-expanded="true" aria-controls="collapseTests">
                            <i class="fa-solid fa-calendar-days"></i> 
                            <span>Doctor Schedules</span>
                        </a>
                        <div id="collapseSchedule" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="index" asp-controller="DoctorSchedule" asp-area="Managment">All Schedule</a>
                                <a class="collapse-item" asp-action="Create" asp-controller="DoctorSchedule" asp-area="Managment">Add Schedule</a>
                            </div>
                        </div>
                    </li>
                }
                
                @if (User.IsInRole("Receptionist") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" data-toggle="collapse" data-target="#collapseSpecializion" aria-expanded="true" aria-controls="collapseTests">
                            <i class="fa-solid fa-kit-medical"></i>
                            <span>Doctor Specializions</span>
                        </a>
                        <div id="collapseSpecializion" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="index" asp-controller="DoctorSpecializion" asp-area="Managment">All Schedule</a>
                                <a class="collapse-item" asp-action="Create" asp-controller="DoctorSpecializion" asp-area="Managment">Add Schedule</a>
                            </div>
                        </div>
                    </li>
                }


                @if (User.IsInRole("Doctor") || User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseWR" aria-expanded="true" aria-controls="collapseWR">
                            <i class="fas fa-fw fa-user-clock"></i>
                            <span>Waiting Room</span>
                        </a>
                        <div id="collapseWR" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                @{
                                    var Currentapp = UnitOfWork.AppointmentRepository.GetAllAppointments().Where(a => a.AppointmentState == Clinc_Care_MVC_Grad_PROJ.Areas.Client.Models.AppointmentStates.ready).OrderBy(a => a.UpdatedAppointmentDate).Take(1).FirstOrDefault();
                                }
                                <a class="collapse-item" asp-action="DoctorReadyAppoitments" asp-area="Managment" asp-controller="Employee">View Waiting room</a>
                                @if (Currentapp != null)
                                {

                                    <a class="collapse-item" asp-action="DetailedPatientAppointment" asp-area="Managment" asp-route-id="@Currentapp.AppointmentId" asp-controller="Employee">Current Appointment</a>
                                }
                            </div>
                        </div>
                    </li>
                }



                @if (User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
                            <i class="fas fa-fw fa-users"></i>
                            <span>Staffs</span>
                        </a>
                        <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="Create" asp-controller="Employee" asp-area="Managment">Create New Account</a>
                                <a class="collapse-item" asp-action="index" asp-controller="Employee" asp-area="Managment">All Staffs</a>
                                <a class="collapse-item" asp-action="index" asp-controller="Role" asp-area="">Roles &amp; Permissions</a>
                            </div>
                        </div>
                    </li>
                } 
                @if (User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseDeletedEmpDr" aria-expanded="true" aria-controls="collapseUtilities">
                            <i class="fas fa-fw fa-ban"></i>
                            <span>Dr Spec. History</span>
                        </a>
                        <div id="collapseDeletedEmpDr" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner">
                                <a class="collapse-item" asp-action="Index" asp-controller="DeletedEmpDoctorSpec" asp-area="Managment">History</a>
                            </div>
                        </div>
                    </li>
                }



            </ul>
            <div id="content-wrapper" class="d-flex flex-column">
                <div id="content">
                    <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">


                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item dropdown no-arrow">
                                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="mr-2 d-none d-lg-inline text-gray-900 small-600">Menu</span>
                                    <img class="img-profile rounded-circle" src="/imgs/profileIcon.png">
                                </a>
                                <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                                    <a class="dropdown-item" href="#">
                                        <i class="fas fa-pen fa-sm fa-fw mr-2 text-gray-400"></i>
                                        @User.Identity.Name
                                    </a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" asp-action="logout" asp-controller="Account" asp-area="">
                                        <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                        Logout
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </nav>
                    <div class="container-fluid">

                        @RenderBody()

                    </div>
                </div>
                <footer class="sticky-footer bg-white">
                    <div class="container my-auto">
                        <div class="copyright my-auto">
                            <span>
                                Copyright © Created by
                                ZMANIN 2023
                            </span>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
    </div>


    <script src="https://demo.getdoctorino.com/dashboard/vendor/jquery/jquery.min.js"></script>
    <script src="https://demo.getdoctorino.com/dashboard/js/vue.js"></script>
    <script src="https://demo.getdoctorino.com/dashboard/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://demo.getdoctorino.com/dashboard/js/jquery.repeatable.js" type="text/javascript"></script>
    <script src="https://demo.getdoctorino.com/dashboard/js/gijgo.min.js" type="text/javascript"></script>
    <script src="https://demo.getdoctorino.com/dashboard/js/bootstrap-notify.min.js"></script>
    <script src="https://jasonday.github.io/printThis/printThis.js"></script>
    <script src="https://printjs-4de6.kxcdn.com/print.min.js"></script>
    <script src="https://demo.getdoctorino.com/dashboard/js/custom.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('select').selectpicker();
        });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>

